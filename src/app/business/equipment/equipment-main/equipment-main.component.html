<!--设备设施管理现状-->
<div class="equipment-main">
  <h2 class="title text-center pt-3 pb-3 text-littleGray">设备设施管理现状</h2>
  <div class="header pt-2 pb-2">
    <div class="ui-inputgroup"></div>
    <div class="button">
      <button pButton type="button" [label]="equipmentMainOrgTreeSelectLabel" style="background: #ffffff" class="ui-button-secondary" (click)="equipmentMainOperate(equipmentMainOperateFlag = 'tree')"></button>
    </div>
  </div>
  <div class="content">
    <div class="card">
      <div class="card-list" *ngFor="let item of equipmentMainCar">
        <div class="chart">
          <app-echarts-bar-circle
            [color]="[item.color]"
            [echartData]="item.proportion">
          </app-echarts-bar-circle>
        </div>
        <div class="description">
          <h5 style="color: #81828B;margin-bottom: 10px">{{item.name}}</h5>
          <p>
            <span class="h4">{{item.molecule}}</span>
            <span class="text-gray">/</span>
            <span class="text-gray">{{item.denominator}}</span>
          </p>
        </div>
      </div>
    </div>
    <div class="ui-g" style="height: 90%;padding-top: 15px">
      <div class="ui-g-12 ui-md-12" style="height: 95%;box-shadow: 0 0 10px #C1C1C1;border-radius: 15px;background: #ffffff;">
        <div class="tab">
          <div class="tab-title">
            <h4 style="color: #4D4F5C;padding-left: 10px">设备完好率</h4>
          </div>
          <div class="tab-menu">
            <div class="tab-item" *ngFor="let item of equipmentMainTabItem">
              <a class="item-content" (click)="equipmentMainTabItemClick(item)">
                <span [ngStyle]="{color: item.item.ftcolor}">{{item.item.label}}</span>
                <span *ngIf="item.show" [ngStyle]="{background: item.item.bgc}" class="line"></span>
              </a>
            </div>
          </div>
        </div>
        <div class="chart" style="height: 90%;">
          <app-echarts-area-chart
            title="设备完好率"
            [echartsData]="equipmentMainLine"
          ></app-echarts-area-chart>
        </div>
      </div>
    </div>
  </div>
  <div class="modal">
    <!--组织树弹窗-->
    <p-dialog
      [modal]="true"
      [(visible)]="equipmentMainOrgTreeModal" [blockScroll]="true"
      [contentStyle]="{width: '30vw',height: '30vh'}">
      <p-header>请选择组织单位</p-header>
      <p-scrollPanel [style]="{width: '100%', height: '250px'}">
        <p-tree
          [style]="{width: '100%'}"
          [value]="equipmentMainOrgTree"
          [(selection)]="equipmentMainOrgTreeSelect"
          selectionMode="single">
        </p-tree>
      </p-scrollPanel>
      <p-footer>
        <button type="button" pButton icon="pi pi-check" (click)="equipmentMainOperate('select')" label="确定"></button>
      </p-footer>
    </p-dialog>
  </div>
</div>

