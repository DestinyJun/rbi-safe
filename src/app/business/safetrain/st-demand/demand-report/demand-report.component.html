<div class="demand-report">
  <div class="ui-g ui-fluid" style="width: 50%;position: relative">
    <!--受培训单位-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>受培训单位：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input inputButton">
        <button
          pButton type="button" label="请选择受训单位人员"
          class="ui-button-rounded"
          (click)="reportOperate(reportOperateFlag = 'strain')">
        </button>
      </div>
    </div>
    <!--日常培训类别-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>日常培训类别：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input">
        <p-dropdown
          placeholder="请选择培训类别"
          [options]="reportDropdownOptions" [(ngModel)]="reportDropdownSelected"
          optionLabel="trainingTypeName" dropdownIcon="fa fa-caret-down">
        </p-dropdown>
      </div>
    </div>
    <!--培训内容-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>培训内容：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input">
        <input
          type="text" pInputText placeholder="请填写培训内容"
          name="title" #title="ngModel"
          required [(ngModel)]="reportOperateField.trainingContent">
        <div *ngIf="title.invalid && (title.dirty || title.touched)" class="text-danger mt-2">
          <div *ngIf="title.errors.required">
            请填写培训内容必须填写
          </div>
        </div>
      </div>
    </div>
    <!--培训时长-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>培训时长：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input">
        <input
          type="number" pInputText name="duration"
          #duration="ngModel" required placeholder="请填写培训时长"
          [(ngModel)]="reportOperateField.trainingDuration">
        <div *ngIf="duration.invalid && (duration.dirty || duration.touched)" class="text-danger mt-2">
          <div *ngIf="duration.errors.required">
            培训时长必须填写
          </div>
        </div>
      </div>
    </div>
    <!--组织培训单位-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>组织培训单位：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input orgButton">
        <button pButton type="button" label="点击选择单位" class="ui-button-white text-left" (click)="reportOperate(reportOperateFlag = 'tree')"></button>
      </div>
    </div>
    <!--开始时间-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>开始时间：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input">
        <p-calendar
          #calendarStart
          placeholder="点击选择时间......"
          [locale]="reportEs" [(ngModel)]="reportOperateField.startTime"
          dateFormat="yy-mm-dd"
          dataType="string"
          [monthNavigator]="true"
          [yearNavigator]="true"
          [showTime]="true"
          yearRange="2017:2030">
          <p-footer>
            <button pButton type="button" label="确定" class="ui-button-warning" (click)="calendarStart.hideOverlay()"></button>
          </p-footer>
        </p-calendar>
      </div>
    </div>
    <!--结束时间-->
    <div class="ui-g-12 ui-md-12">
      <label class="ui-g-3 ui-md-3 label">
        <span>结束时间：</span>
      </label>
      <div class="ui-g-9 ui-md-9 input">
        <p-calendar
          #calendarEnd
          placeholder="点击选择时间......"
          [locale]="reportEs" [(ngModel)]="reportOperateField.endTime"
          dateFormat="yy-mm-dd"
          dataType="string"
          [monthNavigator]="true"
          [yearNavigator]="true"
          [showTime]="true"
          hourFormat="24"
          yearRange="2017:2030">
          <p-footer>
            <button pButton type="button" label="确定" class="ui-button-warning" (click)="calendarEnd.hideOverlay()"></button>
          </p-footer>
        </p-calendar>
      </div>
    </div>
    <!--提交-->
    <div class="ui-g-12 ui-md-12 text-center">
      <button pButton label="提交" style="width: auto" (click)="reportOperate('add')"></button>
    </div>
    <!--组织数弹窗-->
    <p-dialog
      [title]="reportOperateFlag === 'strain'?'请选择受训单位人员':'请选择组织培训单位'"
      [(visible)]="reportOperateModal" [blockScroll]="true"
      [contentStyle]="{width: '30vw',height: '30vh'}">
      <p-scrollPanel [style]="{width: '100%', height: '250px'}">
        <p-tree
          [hidden]="reportOperateFlag === 'strain'"
          [value]="reportOrgTree"
          [(selection)]="reportOrgTreeSelect"
          selectionMode="single">
        </p-tree>
      </p-scrollPanel>
      <p-footer>
        <button type="button" pButton icon="pi pi-check" (click)="reportOperateModal=false" label="确定"></button>
        <button type="button" pButton icon="pi pi-close" (click)="reportOperateModal=false" label="取消" class="ui-button-secondary"></button>
      </p-footer>
    </p-dialog>
  </div>
</div>
