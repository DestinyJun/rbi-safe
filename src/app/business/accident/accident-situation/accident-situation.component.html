<div class="accident-situation">
  <h2 class="title text-center pt-3 pb-3 text-littleGray">生产安全事故现状</h2>
  <div class="header pt-2 pb-2">
    <div class="ui-inputgroup"></div>
    <div class="button">
      <button pButton type="button" [label]="acSituationOrgTreeSelectLabel" class="ui-button-secondary" (click)="acSituationOperate(acSituationOperateFlag = 'tree')"></button>
    </div>
  </div>
  <div class="content">
    <div class="ui-g" style="height: 100%">
      <!--组织培训单位-->
      <div class="ui-g-7 ui-md-7" style="height: 80%">
        <app-echarts-bar-risk
          [echartData]="acSituationBar"
          [showAxisLabel]="true"
          [showSplitLine]="true"
          [barColor]="'#226AD5'"
          (chartClick)="acSituationOperate(acSituationOperateFlag = 'chart',$event)"
          [title]="'事故走势图'">
        </app-echarts-bar-risk>
      </div>
      <div class="ui-g-5 ui-md-5" style="height: 80%">
        <app-echarts-pie-trouble
          [title]="'事故占比'"
          [echartData]="acSituationPie">
        </app-echarts-pie-trouble>
      </div>
    </div>
  </div>
  <div class="modal">
    <!--组织树弹窗-->
    <p-dialog
      [modal]="true"
      [(visible)]="acSituationOrgTreeModal" [blockScroll]="true"
      [contentStyle]="{width: '30vw',height: '30vh'}">
      <p-header>请选择组织单位</p-header>
      <p-scrollPanel [style]="{width: '100%', height: '250px'}">
        <p-tree
          [style]="{width: '100%'}"
          [value]="acSituationOrgTree"
          [(selection)]="acSituationOrgTreeSelect"
          selectionMode="single">
        </p-tree>
      </p-scrollPanel>
      <p-footer>
        <button type="button" pButton icon="pi pi-check" (click)="acSituationOperate('select')" label="确定"></button>
      </p-footer>
    </p-dialog>
  </div>
</div>
